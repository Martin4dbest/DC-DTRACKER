If you want to simplify the process so that after the admin confirms a donation and uploads a receipt image or file, they can view it directly by clicking the file, you can make a few adjustments.

Steps:
Add an upload field for the receipt file in your donation confirmation form.
Store the file in a designated folder.
Make sure the file path or URL is saved in the database.
Allow the admin to click on the file in the admin panel to view it.
Here's how you could adjust your system:
Update the Donation Model: Ensure you have a field to store the file path for the uploaded receipt.
python
Copy code
class Donation(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)
    amount = db.Column(db.Float, nullable=False)
    donation_date = db.Column(db.DateTime, nullable=False, default=datetime.utcnow)
    receipt_file = db.Column(db.String(255), nullable=True)  # Field to store the file path

    user = db.relationship('User', backref=db.backref('donations', lazy=True))
Create a Form for Uploading the Receipt: In your donation confirmation page or admin panel, you will have a file input field for uploading the receipt.
html
Copy code
<form method="POST" enctype="multipart/form-data">
    <label for="receipt">Upload Receipt:</label>
    <input type="file" name="receipt" id="receipt" required>
    <button type="submit">Confirm Donation</button>
</form>
Handle the File Upload in Your Route:
python
Copy code
import os
from werkzeug.utils import secure_filename

# Set a folder for saving files (make sure to create the folder if it doesn't exist)
UPLOAD_FOLDER = 'static/uploads/receipts/'
ALLOWED_EXTENSIONS = {'pdf', 'jpg', 'jpeg', 'png'}

app.config['UPLOAD_FOLDER'] = UPLOAD_FOLDER

def allowed_file(filename):
    return '.' in filename and filename.rsplit('.', 1)[1].lower() in ALLOWED_EXTENSIONS

@app.route('/confirm_donation', methods=['POST'])
def confirm_donation():
    if 'receipt' not in request.files:
        flash('No file part')
        return redirect(request.url)
    file = request.files['receipt']
    if file.filename == '':
        flash('No selected file')
        return redirect(request.url)
    
    if file and allowed_file(file.filename):
        filename = secure_filename(file.filename)
        file_path = os.path.join(app.config['UPLOAD_FOLDER'], filename)
        file.save(file_path)
        
        # Save the file path in the database
        new_donation = Donation(
            user_id=current_user.id,
            amount=request.form['amount'],
            receipt_file=file_path
        )
        db.session.add(new_donation)
        db.session.commit()
        
        flash('Donation confirmed and receipt uploaded successfully!')
        return redirect(url_for('view_receipts'))
    else:
        flash('Invalid file format. Only PDF, JPG, JPEG, PNG allowed.')
        return redirect(request.url)
Display the Uploaded Receipt in the Admin Panel:
In your admin dashboard or receipt overview page, you'll allow the admin to click the file link and view it directly.

html
Copy code
<!-- In your receipts overview page -->
<table>
    <thead>
        <tr>
            <th>Receipt ID</th>
            <th>Partner Name</th>
            <th>Donation Amount</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for receipt in receipts %}
            <tr>
                <td>{{ receipt.id }}</td>
                <td>{{ receipt.user.name }}</td>
                <td>${{ receipt.amount }}</td>
                <td>{{ receipt.donation_date }}</td>
                <td>
                    {% if receipt.receipt_file %}
                        <a href="{{ url_for('static', filename='uploads/receipts/' + receipt.receipt_file.split('/')[-1]) }}" target="_blank">View Receipt</a>
                    {% else %}
                        No receipt uploaded
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
    </tbody>
</table>
Key Changes:
File Upload Handling: The file is uploaded and stored in the static/uploads/receipts/ directory.
Database Field: A receipt_file column is added to store the file path.
Admin View: The admin can view the file by clicking a link that opens the file in a new tab.
This simplifies the process of viewing receipts as the admin can directly click on the link to view the uploaded file (image, PDF, etc.) without needing additional complex views.